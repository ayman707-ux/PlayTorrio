<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Torrentless Search</title>
    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <header>
      <h1>Torrentless</h1>
      <p class="tag">Simple search UI that extracts magnet links and metadata</p>
    </header>

    <main>
      <section class="search-box">
        <form id="searchForm">
          <input id="query" name="q" type="text" placeholder="Search (e.g., Batman, Superman 2025, Spiderman)" required />
          <button type="submit">Search</button>
        </form>
        <div class="helpers">
          <a id="externalLink" href="#" target="_blank" rel="noopener noreferrer" hidden>Open results on extratorrent.st</a>
        </div>
        <div id="status" class="status" aria-live="polite"></div>

        <details class="fallback">
          <summary>Having trouble? Paste page HTML to parse locally</summary>
          <p>Open the external link above, copy the page HTML (Ctrl+A then Ctrl+C), paste it below, and click Parse.</p>
          <textarea id="htmlInput" rows="10" placeholder="Paste full page HTML here..."></textarea>
          <div>
            <button id="parseHtmlBtn" type="button">Parse HTML</button>
          </div>
        </details>
      </section>

      <section id="results" class="results" hidden>
        <div class="toolbar">
          <h2 id="resultsTitle">Results</h2>
          <div class="pager">
            <button id="prevBtn" disabled>Prev</button>
            <span id="pageLabel"></span>
            <button id="nextBtn" disabled>Next</button>
          </div>
        </div>
        <table>
          <thead>
            <tr>
              <th style="width: 40%">Title</th>
              <th>Size</th>
              <th>S</th>
              <th>L</th>
              <th>Age</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </section>

      <section class="disclaimer">
        <p>
          This tool fetches publicly available search result pages and surfaces links for informational purposes only.
          Ensure you have the rights to access any content and comply with your local laws. Use responsibly.
        </p>
      </section>
    </main>

    <script src="/app.js"></script>
  </body>
</html>
